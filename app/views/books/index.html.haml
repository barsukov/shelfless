- model_class = Book
.page-header
  %h1=t '.title', :default => model_class.model_name.human.pluralize.titleize
  -if user_signed_in?
    = link_to I18n.t('books.add_new_book_btn'),new_account_book_path(account_id: current_user.account.id),
      {class: "btn-sm btn-success",role: "button"}
%table.table.table-striped.table-hover
  %thead
    %tr
      %th= model_class.human_attribute_name(:title)
      %th= model_class.human_attribute_name(:author)
      %th= model_class.human_attribute_name(:category)
      %th= model_class.human_attribute_name(:postcode)
      %th= model_class.human_attribute_name(:request)
  %tbody
    - @books.each do |book|
      %tr
        %td.col-md-3= link_to(book.title, book_path(book))
        %td.col-md-3= book.author.try(:name)
        %td.col-md-2= book.category.try(:name)
        %td.col-md-1= book.postcode
        %td.col-md-1
          -if user_signed_in?
            = get_request_button(book)
          -else
            =I18n.t('login_please')
.row.row-bottom-pading
  -unless @books.empty?
    =will_paginate @books,renderer: BootstrapPagination::Rails
